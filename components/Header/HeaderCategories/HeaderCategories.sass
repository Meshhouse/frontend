.categories
  position: fixed
  top: 8.775rem
  left: 0
  width: 100%
  height: calc(100vh - 8.5rem)
  overflow: hidden
  pointer-events: none
  opacity: 0
  z-index: 10
  &--active
    pointer-events: all
    opacity: 1
  &__container
    position: relative
    z-index: 1
    background-color: var(--block-color)
    margin: 0 auto
    height: 100%
    min-height: 360px
    border-radius: 0 0 $border-radius $border-radius
    box-shadow: 0 1px 1rem rgba(0,0,0,0.25)
    display: grid
    grid-template-columns: 300px 1fr
    overflow: hidden
  &__fade
    position: absolute
    left: 0
    top: 0
    width: 100%
    height: 100%
    background-color: rgba(0,0,0,0.4)
  &__nav, &__tabs, &__container
    max-height: calc(100vh - 8.5rem - 10rem)
  &__nav, &__tabs
    padding: 1rem
    overflow-y: auto
  &__tabs
    display: flex
    flex-direction: column
    background-color: var(--block-color-alt)
    border-radius: 0 0 $border-radius 0

.header
  &__categories
    .button
      border-radius: $border-radius 0 0 $border-radius

.tab
  &__grid
    display: grid
    grid-template-columns: repeat(3, 1fr)
    grid-auto-rows: minmax(84px, 1fr)
    grid-gap: 1rem
  &__description
    width: 100%
    background-color: var(--block-color)
    text-align: center
    text-transform: uppercase
    letter-spacing: 0.125rem
    padding: 0.5rem
    border-radius: 0 0 $border-radius $border-radius
    margin-top: -1rem
    margin-bottom: 1rem

.category
  color: var(--text-color)
  display: flex
  align-items: center
  margin-bottom: 0.5rem
  position: relative
  &--nested
    background-color: var(--block-color)
    margin: 0
    padding: 1rem
    flex-direction: column
    align-items: stretch
    border: 0.125rem solid var(--block-color)
    border-radius: $border-radius
    transition: border-color 0.3s ease
    .category__top
      display: flex
      align-items: center
      height: 100%
    .category__icon
      display: block
      width: 3rem
      height: 3rem
      margin-right: 0.5rem
    .category__description
      position: absolute
      z-index: 1
      bottom: -5rem
      left: -0.125rem
      width: calc(100% + 0.25rem)
      padding: 1rem
      color: #aaa
      background-color: var(--block-color)
      border-radius: $border-radius
      opacity: 0
      transition: opacity 0.3s ease
      box-shadow: 0px 1px 1rem rgba(0,0,0,0.25)
      pointer-events: none
      &:after
        content: ''
        position: absolute
        top: -1rem
        left: 50%
        width: 0
        height: 0
        border-style: solid
        border-width: 0 1rem 1rem 1rem
        border-color: transparent transparent var(--block-color) transparent
        transform: translateX(-50%)
    &:hover
      border-color: $primary
      .category__description
        opacity: 1
  &--root
    background: var(--primary)
    padding: 0.25rem 1rem
    font-weight: 700
    font-family: $fontDisplay
    text-transform: uppercase
    color: #fff
    border-radius: $border-radius
    .svg-inline--fa
      margin-left: auto
      opacity: 0
    &:hover, &-active
      .svg-inline--fa
        opacity: 1

@media (min-width: $breakpoint-modern-desktop)
  .categories
    &__container
      grid-template-columns: 400px 1fr

@media (min-width: $breakpoint-huge-desktop) and (max-width: $breakpoint-modern-desktop - 1px)
  .categories
    &__container
      grid-template-columns: 350px 1fr

@media (min-width: $breakpoint-large-desktop) and (max-width: $breakpoint-huge-desktop - 1px)
  .header__categories
    .button
      min-height: 2.8125rem
      span
        display: none
      .svg-inline--fa
        margin-left: 0
  .categories
    top: 8.067rem
    height: calc(100vh - 8.067rem)

@media (min-width: $breakpoint-desktop) and (max-width: $breakpoint-large-desktop - 1px)
  .header__categories
    .button
      min-height: 2.8125rem
      span
        display: none
      .svg-inline--fa
        margin-left: 0
  .categories
    top: 7.425rem
    height: calc(100vh - 7.425rem)

@media (min-width: $breakpoint-tablet) and (max-width: $breakpoint-desktop - 1px)
  .header__categories
    .button
      min-height: 2.8125rem
      span
        display: none
      .svg-inline--fa
        margin-left: 0
  .categories
    top: 7.425rem
    height: calc(100vh - 7.425rem)
    &__tabs
      max-height: none
    &__nav
      max-height: none
    &__container
      max-height: calc(100vh - 8rem)
  .tab
    &__grid
      grid-template-columns: none

@media (min-width: $breakpoint-phone) and (max-width: $breakpoint-tablet - 1px)
  .header__categories
    .button
      min-height: 2.8125rem
      span
        display: none
      .svg-inline--fa
        margin-left: 0
  .categories
    top: 6.25rem
    height: calc(100vh - 6.25rem)
    &__nav
      padding: 0.5rem
      overflow: hidden
      overflow-x: auto
      max-height: none
      max-width: 100%
      display: flex
      align-items: center
    &__tabs
      max-height: none
    &__container
      grid-template-columns: none
      grid-template-rows: 3rem 1fr
      max-height: calc(100vh - 6.25rem)
  .tab
    &__grid
      grid-template-columns: none
  .category
    &--root
      margin: 0
      margin-right: 0.5rem
      flex: 0 0 auto
      font-size: 0.875rem
    &--nested
      margin-bottom: 0.5rem
      .category
        &__description
          top: 100%
          left: 0
          font-size: 0.7rem
        &__icon
          width: 2rem
          height: 2rem
